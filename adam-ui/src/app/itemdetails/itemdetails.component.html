<app-navbar></app-navbar>

<div class="container-fluid">

  <div class="row">
    <div class="col-lg-8">
      <nav aria-label="breadcrumb" class="mt-2">
          <ol class="breadcrumb">
              <li class="breadcrumb-item"><a  routerLink="/">Home</a></li>
              <li class="breadcrumb-item"><a  routerLink="/archive">Archive</a></li>
              <li class="breadcrumb-item"><a  routerLink="/category/{{ archiveCategory }}">Archive category: {{ archiveCategory }}</a></li>
              <li class="breadcrumb-item active" aria-current="page">{{ archiveItem.name }}</li>
          </ol>
      </nav>
    </div>
    <div class="col-lg-4 mt-2">
        <a class="btn btn-sm btn-primary mt-3 mr-1" href="https://www.facebook.com/sharer/sharer.php?u=http://demoarchive.art/item/{{ pageUrl }}" target="_blank"><img src="../assets/img/fb-icon.png" height="16px" alt="Facebook" class="mr-1">Share on Facebook</a>
        <a class="btn btn-sm btn-primary mt-3 mr-1" href="https://twitter.com/intent/tweet?url=http://demoarchive.art/item/{{ pageUrl }}" target="_blank"><img src="../assets/img/tw-icon.png" height="16px" alt="Twitter" class="mr-1">Share on Twitter</a>
    </div>
  </div>

</div>

<div class="container">
  <div class="row my-4">
    <div class="col-lg-8">
      <p>{{ warningMessage }}</p>
      <span class="badge badge-primary">{{ archiveCategory | titlecase }}</span>
      <h3>{{ archiveItem.name }}</h3>
      <p>{{ archiveItem.longdescription }}</p>

			<div class="row">
				<div class="col-12">
					<p class="mt-4">
            <strong>Tags:</strong>
            <span class="btn btn-warning m-1" *ngFor="let tag of archiveItem.tags">{{ tag }}</span>
          </p>

				</div>
			</div>

    </div>
    <div class="col-lg-4">
      <div id="carouselCaptions" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
          <li data-target="#carouselCaptions" data-slide-to="{{ item.id }}" *ngFor="let item of archiveItem.images; let isFirst = first" [class.active]="isFirst"></li>
        </ol>
        <div class="carousel-inner">
          <div class="carousel-item" *ngFor="let item of archiveItem.images; let isFirst = first" [class.active]="isFirst">
            <a href="#" data-toggle="modal" [attr.data-target]="'#id'+item.id"><img src="{{ item.url }}" class="d-block w-100" alt="{{ item.title }}" data-interval="2200" ></a>

            <!-- Modals -->
            <div class="modal fade" id="id{{ item.id }}" tabindex="-1" role="dialog" [attr.aria-labelledby]="'id' + item.id" aria-hidden="true">
              <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" [attr.id]="'id'+item.id+'Label'">{{ item.name }}</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                        </button>
                  </div>
                  <div class="modal-body">
                    <p class="text-left">{{ item.description }}</p>
                    <img src="{{ item.url }}" class="img-fluid" alt="{{ item.name }}">
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
        <a class="carousel-control-prev" href="#carouselCaptions" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselCaptions" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
      <div class="text-center">
        <span class="badge badge-secondary">Click image to magnify.</span>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-12">
      <div class="dropdown-divider"></div>
      <h4>Related</h4>
    </div>
  </div>

  <div class="row">
    <!-- Related persons -->
    <div class="col-lg-2 col-md-3 text-center my-1" *ngFor="let item of relatedPersons">
      <a routerLink="/item/persons/{{ item.id }}"><img src="{{ item.images[0].url }}" alt="{{ item.name }}" class="img-fluid rounded"></a>
      <span class="badge badge-secondary">Person</span>
      <p><a routerLink="/item/persons/{{ item.id }}">{{ item.name }}</a></p>
    </div>

    <!-- Related artifacts -->
    <div class="col-lg-2 col-md-3 text-center my-1" *ngFor="let item of relatedArtifacts">
      <a routerLink="/item/artifacts/{{ item.id }}"><img src="{{ item.images[0].url }}" alt="{{ item.name }}" class="img-fluid rounded"></a>
      <span class="badge badge-secondary">Artifact</span>
      <p><a routerLink="/item/artifacts/{{ item.id }}">{{ item.name }}</a></p>
    </div>

    <!-- Related events -->
    <div class="col-lg-2 col-md-3 text-center my-1" *ngFor="let item of relatedEvents">
      <a routerLink="/item/events/{{ item.id }}"><img src="{{ item.images[0].url }}" alt="{{ item.name }}" class="img-fluid rounded"></a>
      <span class="badge badge-secondary">Event</span>
      <p><a routerLink="/item/events/{{ item.id }}">{{ item.name }}</a></p>
    </div>
  </div>
</div>

<app-footer></app-footer>
