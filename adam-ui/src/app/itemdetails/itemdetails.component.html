<app-navbar></app-navbar>
<app-ornament></app-ornament>
<div class="container-fluid">

  <div class="row">
    <div class="col-lg-12">
      <nav aria-label="breadcrumb" class="mt-2">
          <ol class="breadcrumb">
              <li class="breadcrumb-item"><a  routerLink="/">Home</a></li>
              <li class="breadcrumb-item"><a  routerLink="/archive">Archive</a></li>
              <li class="breadcrumb-item"><a  routerLink="/category/{{ archiveCategory }}">Archive category: {{ archiveCategory }}</a></li>
              <li class="breadcrumb-item active" aria-current="page">{{ archiveItem.name }}</li>
          </ol>
      </nav>
    </div>
  </div>

</div>

<div class="container">
  <div class="row my-4">
    <div class="col-lg-8 border-bottom">
      <span class="badge badge-secondary">{{ archiveCategory | titlecase }}</span>
      <h2>{{ archiveItem.name }}</h2>
      <p>{{ archiveItem.longdescription }}</p>

			<div class="row">
				<div class="col-12">
					<p class="mt-4">
            <strong>Tags:</strong>
            <span class="btn btn-warning m-1" *ngFor="let tag of archiveItem.tags">{{ tag }}</span>
          </p>

				</div>
			</div>

    </div>
    <div class="col-lg-4 ">
      <div class="row">
        <div class="col-12 text-center">
          <h3>Images</h3>
        </div>
      </div>
      <div class="row pt-3 border">
        <div class="col-6 text-center" *ngFor="let item of archiveItem.images" (click)="setCarouselActiveID(item.id)">
          <a href="#" data-toggle="modal" data-target="#carouselModal" >
            <img src="{{ item.url }}" class="img-fluid rounded-lg" alt="{{ item.name }}">
            <p>{{ item.name }}</p>
          </a>
        </div>
      </div>

      <div class="modal fade" id="carouselModal" tabindex="-1" aria-labelledby="carouselModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="carouselModalLabel">Images for {{ archiveItem.name }}</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">

              <div id="carouselCaptions" class="carousel slide" data-ride="carousel" data-interval="false" touch="true">
                <ol class="carousel-indicators">
                  <li data-target="#carouselCaptions" *ngFor="let item of archiveItem.images; let isFirst = first" [class.active]="isFirst"></li>
                </ol>
                <div class="carousel-inner">
                  <div class="carousel-item" *ngFor="let item of archiveItem.images; let isFirst = first" [class.active]="isFirst" id="{{ item.id }}">
                    <img src="{{ item.url }}" class="d-block w-100" alt="{{ item.name }}" >
                  </div>
                </div>
                <a class="carousel-control-prev" href="#carouselCaptions" role="button" data-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselCaptions" role="button" data-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="sr-only">Next</span>
                </a>
              </div>

            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-12 text-center">
          <a class="btn btn-sm btn-primary mt-3 mr-1" href="https://www.facebook.com/sharer/sharer.php?u=http://demoarchive.art/#/item/{{ pageUrl }}" target="_blank"><img src="../assets/img/fb-icon.png" height="16px" alt="Facebook" class="mr-1">Share on Facebook</a>
          <a class="btn btn-sm btn-primary mt-3 mr-1" href="https://twitter.com/intent/tweet?url=http://demoarchive.art/#/item/{{ pageUrl }}" target="_blank"><img src="../assets/img/tw-icon.png" height="16px" alt="Twitter" class="mr-1">Share on Twitter</a>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-12">
      <h3>Related</h3>
    </div>
  </div>

  <div class="row">
    <!-- Related persons -->
    <div class="col-lg-2 col-md-3 text-center my-1" *ngFor="let item of relatedPersons">
      <a routerLink="/item/persons/{{ item.id }}"><img src="{{ item.images[0].url }}" alt="{{ item.name }}" class="img-fluid rounded"></a>
      <span class="badge badge-secondary">Person</span>
      <p><a routerLink="/item/persons/{{ item.id }}">{{ item.name }}</a></p>
    </div>

    <!-- Related artifacts -->
    <div class="col-lg-2 col-md-3 text-center my-1" *ngFor="let item of relatedArtifacts">
      <a routerLink="/item/artifacts/{{ item.id }}"><img src="{{ item.images[0].url }}" alt="{{ item.name }}" class="img-fluid rounded"></a>
      <span class="badge badge-secondary">Artifact</span>
      <p><a routerLink="/item/artifacts/{{ item.id }}">{{ item.name }}</a></p>
    </div>

    <!-- Related events -->
    <div class="col-lg-2 col-md-3 text-center my-1" *ngFor="let item of relatedEvents">
      <a routerLink="/item/events/{{ item.id }}"><img src="{{ item.images[0].url }}" alt="{{ item.name }}" class="img-fluid rounded"></a>
      <span class="badge badge-secondary">Event</span>
      <p><a routerLink="/item/events/{{ item.id }}">{{ item.name }}</a></p>
    </div>
  </div>
</div>

<app-footer></app-footer>
